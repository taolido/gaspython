# 1-1. Google Colabを開いて3分でHello World

## この節で学ぶこと

- Google Colabとは何かを理解する
- Colabでノートブックを作成する
- 最初のPythonプログラムを実行する
- GASとの違いを体感する

---

## Step 0: Google Colabとは何か

**Google Colaboratory（Colab）** は、Googleが無料で提供するクラウド上のPython実行環境です。

GAS経験者のあなたには、こう説明するのが一番わかりやすいでしょう：

```
┌─────────────────────────────────────────────────────────┐
│                                                          │
│   GAS = 「ブラウザで動くJavaScript実行環境」            │
│                                                          │
│   Colab = 「ブラウザで動くPython実行環境」              │
│                                                          │
│   → 概念は同じ。言語が違うだけ。                        │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### GASとColabの比較

| 項目 | GAS | Colab |
|------|-----|-------|
| 言語 | JavaScript | Python |
| 実行環境 | Googleのサーバー | Googleのサーバー |
| 必要なもの | Googleアカウントのみ | Googleアカウントのみ |
| 環境構築 | **不要** | **不要** |
| 保存先 | Googleドライブ | Googleドライブ |
| ファイル形式 | .gs | .ipynb |
| 実行単位 | 関数を選んで実行 | セルを実行 |

> **ポイント**
> GASを使ったことがあるなら、Colabは「Pythonを書くためのGASエディタ」と思えばOKです。

---

## Step 1: Colabを開く

### 手順

1. ブラウザで以下のURLにアクセス：
   ```
   https://colab.research.google.com/
   ```

2. Googleアカウントでログイン（GASと同じアカウントでOK）

3. 「ノートブックを新規作成」をクリック

**これだけです。環境構築は一切不要。**

### 画面の見方

Colabを開くと、以下のような画面が表示されます：

```
┌──────────────────────────────────────────────────────────────┐
│ 🔵 Untitled0.ipynb                          [共有] [接続▼]  │
├──────────────────────────────────────────────────────────────┤
│ [ファイル] [編集] [表示] [挿入] [ランタイム] [ツール] [ヘルプ]│
├──────────────────────────────────────────────────────────────┤
│ [+ コード] [+ テキスト]                                      │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ ┌──────────────────────────────────────────────────────────┐│
│ │ [ ▶ ]  │                                                 ││ ← ここにコードを書く
│ │        │                                                 ││    （コードセル）
│ └──────────────────────────────────────────────────────────┘│
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

### 画面要素の説明

| 要素 | 説明 |
|------|------|
| `Untitled0.ipynb` | ノートブックのファイル名（クリックで変更可能） |
| `[+ コード]` | 新しいコードセルを追加 |
| `[+ テキスト]` | メモ用のテキストセルを追加 |
| `[ ▶ ]` | セルを実行するボタン |
| `[接続▼]` | Googleのサーバーへの接続状態 |

---

## Step 2: 最初のプログラムを実行する

### コードを書く

コードセル（灰色の入力欄）に以下を入力してください：

```python
print("Hello World!")
```

### 実行する

実行方法は2つあります：

1. **[ ▶ ] ボタンをクリック**
2. **Shift + Enter キーを押す**（こちらが便利）

### 実行結果

```
Hello World!
```

コードセルの下に `Hello World!` と表示されれば成功です！

```
┌──────────────────────────────────────────────────────────┐
│ [ ▶ ]  print("Hello World!")                             │
├──────────────────────────────────────────────────────────┤
│ Hello World!                                             │ ← 出力結果
└──────────────────────────────────────────────────────────┘
```

**おめでとうございます！これでPythonプログラムを実行できました。**

---

## Step 3: GASとの違いを体感する

### GASの場合

GASでHello Worldを表示するには、以下のように書きます：

```javascript
function myFunction() {
  console.log("Hello World!");
}
```

そして：
1. 関数を保存する
2. 実行する関数（`myFunction`）を選択する
3. 実行ボタンを押す
4. ログを見るために「実行ログ」を開く

### Pythonの場合

```python
print("Hello World!")
```

そして：
1. Shift + Enter を押す

**以上。**

### 違いのまとめ

```
┌─────────────────────────────────────────────────────────┐
│  GASの場合                                              │
│                                                          │
│  function myFunction() {   ← 関数で囲む必要がある      │
│    console.log("Hello");   ← ログに出力                 │
│  }                                                       │
│                                                          │
│  → 関数を選んで実行、ログを開いて確認                  │
├─────────────────────────────────────────────────────────┤
│  Pythonの場合                                           │
│                                                          │
│  print("Hello")            ← これだけ！                 │
│                                                          │
│  → Shift+Enterで即実行、結果は直下に表示               │
└─────────────────────────────────────────────────────────┘
```

Pythonでは **関数で囲まなくてもコードを直接実行できます**。これが「スクリプト言語」の特徴です。

---

## Step 4: 複数行のプログラムを実行する

### 新しいセルを追加する

`[+ コード]` ボタンをクリックするか、既存のセルの下にカーソルを移動すると、新しいセルが追加できます。

### 複数行のコードを書く

新しいセルに以下を入力して、Shift + Enter で実行：

```python
# 変数を使ったプログラム
name = "Python"
version = 3.11

print(f"言語: {name}")
print(f"バージョン: {version}")
print(f"{name}を始めましょう！")
```

### 実行結果

```
言語: Python
バージョン: 3.11
Pythonを始めましょう！
```

### コード解説

```python
# 変数を使ったプログラム
```
- `#` で始まる行はコメント（実行されない）
- GASの `//` に相当

```python
name = "Python"
```
- 変数 `name` に文字列 `"Python"` を代入
- GASでは `let name = "Python";` と書く
- Pythonでは `let` や `const` は不要、`;` も不要

```python
print(f"言語: {name}")
```
- `f"..."` は「f文字列（フォーマット文字列）」
- `{name}` の部分に変数の値が埋め込まれる
- GASのテンプレートリテラル `` `言語: ${name}` `` に相当

---

## Step 5: セルの実行順序を理解する

Colabでは、**セルを実行した順序**が重要です。

### 試してみよう

**セル1に入力：**
```python
x = 10
print(f"xの値: {x}")
```

**セル2に入力：**
```python
y = x * 2
print(f"yの値: {y}")
```

### 正しい順序で実行

1. セル1を実行 → `xの値: 10`
2. セル2を実行 → `yの値: 20`

### 順序を間違えると...

もしセル2を先に実行すると：

```
NameError: name 'x' is not defined
```

`x` という変数がまだ定義されていないためエラーになります。

### 図解：セルの実行順序

```
正しい順序:
┌─────────────┐      ┌─────────────┐
│  セル1      │ ───► │  セル2      │
│  x = 10    │      │  y = x * 2  │
│  [1]       │      │  [2]        │
└─────────────┘      └─────────────┘
   先に実行            後で実行
                      xが存在するのでOK


間違った順序:
┌─────────────┐      ┌─────────────┐
│  セル1      │      │  セル2      │
│  x = 10    │      │  y = x * 2  │
│  [ ]       │      │  [1]        │  ← 先に実行
└─────────────┘      └─────────────┘
  未実行              xが存在しない
                      → NameError！
```

> **ポイント**
> セルの左に表示される `[1]` `[2]` などの数字は「実行された順番」を示しています。
> エラーが出たら、この数字を確認して実行順序を確認しましょう。

---

## Step 6: よく使う操作のショートカット

Colabで頻繁に使う操作をまとめました。

### キーボードショートカット

| 操作 | ショートカット | 説明 |
|------|---------------|------|
| セルを実行 | `Shift + Enter` | 実行して次のセルに移動 |
| セルを実行（移動なし） | `Ctrl + Enter` | 実行して同じセルに留まる |
| 新しいセルを上に追加 | `Ctrl + M` → `A` | 現在のセルの上に追加 |
| 新しいセルを下に追加 | `Ctrl + M` → `B` | 現在のセルの下に追加 |
| セルを削除 | `Ctrl + M` → `D` | 現在のセルを削除 |
| コメントアウト | `Ctrl + /` | 選択行をコメント化 |

### メニュー操作

| やりたいこと | 操作 |
|-------------|------|
| ファイル名を変更 | ファイル名をクリック |
| 全セルを実行 | ランタイム → すべてのセルを実行 |
| セッションをリセット | ランタイム → ランタイムを再起動 |
| ノートブックを保存 | Ctrl + S（自動保存もある） |

---

## Step 7: 計算をしてみる

Pythonは電卓としても使えます。

```python
# 基本的な計算
print(10 + 3)    # 足し算 → 13
print(10 - 3)    # 引き算 → 7
print(10 * 3)    # 掛け算 → 30
print(10 / 3)    # 割り算 → 3.3333...
print(10 // 3)   # 整数除算 → 3
print(10 % 3)    # 余り → 1
print(10 ** 3)   # べき乗 → 1000
```

**実行結果：**
```
13
7
30
3.3333333333333335
3
1
1000
```

### GASとの違い

| 演算 | GAS | Python |
|------|-----|--------|
| 整数除算 | `Math.floor(10/3)` | `10 // 3` |
| べき乗 | `Math.pow(10, 3)` | `10 ** 3` |
| 余り | `10 % 3` | `10 % 3`（同じ） |

> **便利ポイント**
> Pythonでは整数除算 `//` やべき乗 `**` が演算子として用意されています。GASのように `Math.xxx()` を呼ぶ必要がありません。

---

## エラーと対処法

### よくあるエラー

**エラー1: NameError**
```
NameError: name 'xxx' is not defined
```
**原因:** 変数が定義されていない、または定義する前に使おうとした
**対処法:** 変数を定義しているセルを先に実行する

**エラー2: SyntaxError**
```
SyntaxError: invalid syntax
```
**原因:** 文法ミス（括弧の閉じ忘れ、コロンの付け忘れなど）
**対処法:**
```python
# ダメな例
print("Hello"    # ← ) が足りない

# 正しい例
print("Hello")
```

**エラー3: IndentationError**
```
IndentationError: unexpected indent
```
**原因:** インデント（字下げ）がおかしい
**対処法:** 行頭の空白を確認する（後の節で詳しく説明）

---

## 練習：やってみよう

以下のコードをColabで実行してみてください。

### 練習1: 自己紹介

```python
# あなたの情報に書き換えてください
name = "田中太郎"     # あなたの名前
hobby = "プログラミング"  # あなたの趣味

print("===== 自己紹介 =====")
print(f"名前: {name}")
print(f"趣味: {hobby}")
print(f"今日から{name}はPythonを学びます！")
```

**実行結果例：**
```
===== 自己紹介 =====
名前: 田中太郎
趣味: プログラミング
今日から田中太郎はPythonを学びます！
```

### 練習2: 計算

```python
# 税込価格の計算
price = 1000      # 本体価格
tax_rate = 0.10   # 消費税率

tax = price * tax_rate
total = price + tax

print(f"本体価格: {price}円")
print(f"消費税: {tax}円")
print(f"税込価格: {total}円")
```

**実行結果：**
```
本体価格: 1000円
消費税: 100.0円
税込価格: 1100.0円
```

---

## この節のまとめ

- Google Colabは「ブラウザで動くPython実行環境」（GASのPython版）
- 環境構築は一切不要、Googleアカウントがあれば今すぐ使える
- `Shift + Enter` でセルを実行
- Pythonは関数で囲まなくてもコードを直接実行できる
- セルの実行順序が重要（上から順に実行する）

**次の節では、「なぜColabから始めるのか」その理由を詳しく説明します。**
